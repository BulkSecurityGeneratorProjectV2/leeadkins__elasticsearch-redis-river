{"name":"Elasticsearch-redis-river","body":"This river, and thus its documentation, is still in development.\r\nIt is, however, under active development, so expect this space\r\nto change frequently.\r\n\r\nUsing a Redis List is ready to use, but I'm still polishing up\r\nPubSub. Sorry for the delay, but it shouldn't be much longer now.\r\n\r\n# Elastic Search Redis River\r\n\r\nThis is a simple River that utilizes the same [Bulk API](http://www.elasticsearch.org/guide/reference/api/bulk.html) used \r\nin Elastic Search REST requests and the RabbitMQ River, but\r\nwith Redis.\r\n\r\nYou can get stuff into ES two ways with this river:\r\n - Push to a Redis List\r\n - Use Redis PubSub (Soon, but not yet!)\r\n \r\n \r\n## INSTALLATION\r\n\r\nFrom ES_HOME:\r\n\r\nbin/plugin -install leeadkins/elasticsearch-redis-river/0.0.3\r\n\r\n## USAGE\r\n\t  \tcurl -XPUT 'localhost:9200/_river/my_redis_river/_meta' -d '{\r\n\t\t    \"type\" : \"redis\",\r\n\t\t    \"redis\" : {\r\n\t\t        \"host\"     : \"localhost\", \r\n\t\t        \"port\"     : 6379,\r\n\t\t        \"key\"      : \"redis_key_or_channel\",\r\n\t\t        \"mode\"     : \"list_or_pubsub\",\r\n\t\t        \"database\" : 0\r\n\t\t    },\r\n\t\t    \"index\" : {\r\n\t\t        \"bulk_size\" : 100,\r\n\t\t        \"bulk_timeout\" : 5\r\n\t\t    }\r\n\t\t}'\r\n\r\n\r\nCreate your river using the standard river PUT request. Your options are:\r\n - host:         Redis host\r\n - port:         Redis port\r\n - key:          The Redis key to poll or Redis PubSub channel to subscribe to.\r\n - mode:         list or pubsub\r\n - database:     (OPTIONAL) The Redis database number to use. Zero indexed, make sure you've properly setup your redis.conf if using more than 16 DBs.\r\n - bulk_size:    the maximum number of items to queue up before indexing.\r\n - bulk_timeout: the time (in seconds) to wait for more items before indexing.\r\n\r\n\r\n\r\n## Using a Redis List\r\nThe first time you send something to be indexed to Redis (either list or pubsub),\r\nthe river start preparing a bulk request. This request will be executed once it\r\nreaches the bulk size or after the bulk_timeout passes, whichever is first.\r\n\r\nSetting the bulk_timeout to 0 when using a list doesn't mean that it won't wait.\r\nIt means that it will not timeout a bulk request. In other words, it will always\r\nwait for enough messages to fill the bulk_size. To acheive the effect of not waiting for\r\nanything while using a list, you could set both the bulk timeout and the bulk size\r\nto 0, which would tell the river to send every single index request through automatically.\r\nThis probably isn't the best for performance purposes.\r\n\r\n## Using Redis PubSub\r\n\r\nMore info coming soon.","tagline":"A Redis River for Elastic Search.","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}